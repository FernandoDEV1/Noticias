<!doctype html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity5">

<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cinzel&display=swap" rel="stylesheet">

    <title>Hello, world!</title>
</head>

<body>
<div class="container">
    <div th:insert="navbar :: navbar">  </div>

    <div th:if="${param.login_exitoso}" class="alert alert-success" role="alert">
        Se ha iniciado sesion
    </div>
    <div th:if="${param.error}" class="alert alert-danger" role="alert">
        Ha ocurrido un error
    </div>
    <div th:if="${param.sesion_finalizada}" class="alert alert-info" role="alert">
        Se ha cerrado la sesion
    </div>
    <div class="jumbotron p-3 text-white rounded bg-dark">
        <div class="col-md- p-4">
            <h1 class="display-3" style="font-family: Cinzel,serif; font-weight:500" th:text="${noticias[0].encabezado}"> </h1>
            <p class="lead my-3" th:text="${noticias[0].descCorta}">
            </p>
            <p class="text-muted" th:text="${noticias[0].fechaPublicacion}">
            </p>
            <p class="text-muted" th:text="${noticias[0].usuario.nombre}">
            </p>
            <p class="lead mb-0">
                <a  href="/" th:href="@{/vernoticia/}+${noticias[0].idNoticia}" class="text-white font-weight-bold">
                    Continuar leyendo ..
                </a>
            </p>
        </div>
    </div>

    <div class="row mb-2">
        <div class="col-md-6">
            <div class="card mb-4">
                <div class="card-body d-flex flex-column align-items-start">
                    <h3 style="font-family: Cinzel,serif; font-weight:lighter" th:text="${noticias[1].encabezado}"></h3>
                    <div class="mb-1 text-muted" th:text="${noticias[1].fechaPublicacion}"></div>
                    <p class="text-muted" th:text="${noticias[1].usuario.nombre}">
                    </p>
                    <p class="card-text mb-auto" th:text="${noticias[1].descCorta}">
                    </p>
                    <a href="/" th:href="@{/vernoticia/}+${noticias[1].idNoticia}">Leer</a>
                </div>
            </div>
        </div>
        <div class="col-md-6">
            <div class="card mb-4">
                <div class="card-body d-flex flex-column align-items-start">
                    <h3 style="font-family: Cinzel,serif; font-weight:lighter" th:text="${noticias[2].encabezado}"></h3>
                    <div class="mb-1 text-muted" th:text="${noticias[2].fechaPublicacion}"></div>
                    <p class="text-muted" th:text="${noticias[2].usuario.nombre}">
                    </p>
                    <p class="card-text mb-auto" th:text="${noticias[2].descCorta}">
                    </p>
                    <a href="/" th:href="@{/vernoticia/}+${noticias[2].idNoticia}">Leer</a>
                </div>
            </div>
        </div>
    </div>

</div>
<div class="container">
    <div class="row">
        <div class="col-md-8 mb-5">
            <h3 style="font-family: Cinzel,serif; font-weight:bold">Puede interesarte</h3>
            <div class="mb-4" th:each="n,iterStat: ${noticias}" th:if="${iterStat.index} >2">
                <h2 style=";font-weight:300;font-family:Cinzel,serif" th:text="${n.encabezado}"></h2>
            <a href="/" th:href="@{/vernoticia/}+${n.idNoticia}">Ver mas..</a>
        </div>
    </div>
</div>

<div th:insert="footer :: footer">  </div>

</div>
</body>

</html>